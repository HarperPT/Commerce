(function(t){function e(e){for(var n,c,r=e[0],i=e[1],l=e[2],p=0,d=[];p<r.length;p++)c=r[p],Object.prototype.hasOwnProperty.call(s,c)&&s[c]&&d.push(s[c][0]),s[c]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var i=a[r];0!==s[i]&&(n=!1)}n&&(o.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},s={app:0},o=[];function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/commerce/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],i=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=i;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"00c8":function(t,e,a){},"05f9":function(t,e,a){"use strict";a("4c92")},"1dae":function(t,e,a){"use strict";a("f6cb")},"2cb4":function(t,e,a){"use strict";a("b77a")},"4c92":function(t,e,a){},"4d20":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e),a.d(e,"i18n",(function(){return Ft}));var n=a("2b0e"),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-link",{attrs:{to:"/checkout"}}),e("router-view")],1)},o=[],c={name:"App",components:{}},r=c,i=(a("1dae"),a("2877")),l=Object(i["a"])(r,s,o,!1,null,null,null),u=l.exports,p=a("2f62");const d={UPDATE_STEP:"UPDATE_STEP",IMG_PATH:"IMG_PATH",LAST_LOCALE_MESSAGE:"LAST_LOCALE_MESSAGE"},m={MY_DATA:"MY_DATA",ORDER_CONFIRM:"ORDER_CONFIRM"},f=3e3,b=[{label:"steps.my_data",value:0,buttons:["","continue"],checkout_content:{title:{en:"My Data",zh_CN:"帳戶資料"},message:{en:"Please enter your personal data and press continue",zh_CN:"請輸入您的個人資料後並按下繼續按鈕"},img:""}},{label:"steps.payment",value:1,buttons:["back","pay"],checkout_content:{title:{en:"Payment",zh_CN:"付款"},message:{en:"After making the payment you will receive a confirmation email with details of your purchase",zh_CN:"付款完成後, 您會在電子郵件收到一封您的購買資訊"},img:""}}],h={namespaced:!0,state:{activeIndex:0,imgPath:""},mutations:{[d.UPDATE_STEP](t,e){t.activeIndex=e},[d.IMG_PATH](t,e){t.imgPath=imgPath}},actions:{nextStep:function({commit:t,state:e}){var a=e.activeIndex+1;a>b.length&&(a=b.length),t(d.UPDATE_STEP,a)},previousStep:function({commit:t,state:e}){var a=e.activeIndex-1;a<0&&(a=0),t(d.UPDATE_STEP,a)},previousStep:function({commit:t,state:e}){var a=e.activeIndex-1;a<0&&(a=0),t(d.UPDATE_STEP,a)},backToCheckoutIndex({commit:t}){localStorage.setItem("token",""),t(d.UPDATE_STEP,0)},updateImgPath:function({commit:t,state:e},a){t(d.IMG_PATH,a)}},getters:{activeIndex(t){return t.activeIndex},currentStep(t){return b.find(e=>e.value==t.activeIndex)},currentStepContent(t,e){if(!e.currentStep)return null;const a=e.currentStep.checkout_content;return"{}"===JSON.stringify(a)?null:a},stepTitle(t,e){return e.currentStep?e.currentStep.label:"action.error"},backButtonLabel(t,e){return e.currentStep?e.currentStep.buttons[0]:""},nextButtonLabel(t,e){return e.currentStep?e.currentStep.buttons[1]:""},imgPath(t,e){return"@/assets/img/"+imgPath}}};var g=a("bc3a"),v=a.n(g);const _=[{label:"EN",value:"en"},{label:"CN",value:"zh_CN"}],y=["title","message"];class k{constructor(t){this.title="",this.message=""}}const C={namespaced:!0,state:{activeLocale:"en",loadedLanguages:{}},mutations:{[d.LAST_LOCALE_MESSAGE](t,e){t.loadedLanguages=e}},actions:{async udpateLocaleMessage({dispatch:t,commit:e,state:a},n){await t("toLocaleResponse",n);const s=a.loadedLanguages;for(const[o,c]of Object.entries(s)){const t={...Ft.messages[o],checkout_content:c};Ft.setLocaleMessage(o,t)}},toLocaleResponse({commit:t,state:e,dispatch:a},n){let s={};if(!n.hasOwnProperty("title"))return;const o=Object.keys(n.title);o.forEach(t=>{s[t]=new k,y.forEach(e=>{s[t][e]=n[e][t]})}),t(d.LAST_LOCALE_MESSAGE,s)}},getters:{activeLocale(t){return t.activeLocale}},modules:{}};n["default"].use(p["a"]);var S=new p["a"].Store({state:{},mutations:{},actions:{loadConfigI18n({state:t,getters:e}){const a=e["step/currentStepContent"];a&&this.dispatch("langs/udpateLocaleMessage",a)}},getters:{},modules:{step:h,langs:C}}),x=a("a925"),L={user:{},action:{},nav:{help:"HELP",sign_in:"SIGN IN",lang:"Language"},steps:{my_data:"My Data",payment:"Payment"},action:{error:"Error",back:"Back",pay:"Pay",continue:"Continue"},form:{name:"Name",last_name:"Last Name"},payment:{credit_card:"Credit Card"},hint:{not_found:"Not Found",redirect_checkout:"Page is not exist. Is going to redirect to Checkout page in 3 seconds."},checkout_content:{title:"",message:"",img:""}},P={user:{},action:{},nav:{help:"幫助",sign_in:"登入",lang:"語言"},steps:{my_data:"帳戶資料",payment:"付款資訊"},action:{error:"錯誤",back:"上一步",pay:"付款",continue:"繼續"},form:{name:"名稱",last_name:"姓名"},payment:{credit_card:"信用卡"},hint:{not_found:"未知",redirect_checkout:"頁面不存在, 將在3秒內自動導向付款頁面.."},checkout_content:{title:"",message:"",img:""}},N=a("5c96"),O=a.n(N),T=(a("0fae"),a("c87b")),w=a.n(T),I=a("8c4f"),A=a("130e");const E="https://run.mocky.io/";v.a.interceptors.request.use((function(t){return t.baseURL=E,t}),(function(t){return Promise.reject(t)})),v.a.defaults.baseURL=E,n["default"].use(I["a"]),n["default"].use(x["a"]),n["default"].use(O.a,{locale:w.a}),n["default"].use(A["a"],v.a);var $=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"navigator-block"},[e("navigator")],1),e("div",{staticClass:"content"},[e("checkout-content")],1),e("div",{staticClass:"footer"})])},D=[],M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"navbar"},[e("header",{staticClass:"header"},[e("input",{staticClass:"side-menu",attrs:{type:"checkbox",id:"side-menu"}}),t._m(0),e("nav",{staticClass:"nav"},[e("ul",{staticClass:"menu"},[e("li",[e("img",{attrs:{src:a("dddb")}}),e("a",{attrs:{href:"#"}},[t._v(t._s(t.$t("nav.help")))])]),e("li",[e("img",{attrs:{src:a("93d4")}}),e("a",{attrs:{href:"#"},on:{click:function(e){return t.handleRoute("/checkout/step-1-my-data")}}},[t._v(t._s(t.$t("nav.sign_in")))])]),e("li",{staticClass:"subnav li-subnavbtn"},[e("p",{staticClass:"subnavbtn"},[t._v(" "+t._s(t.$t("nav.lang"))),e("i",{staticClass:"fa fa-caret-down"})]),e("div",{staticClass:"subnav-content"},t._l(t.langs,(function(a,n){return e("a",{key:"lang-"+n,attrs:{href:"#"},on:{click:function(e){return t.handleLangs(a.value)}}},[t._v(" "+t._s(a.label))])})),0)]),e("li",{staticClass:"li-dropdown"},[e("a",[e("SwitchLanguageVue")],1)])])])])])},j=[function(){var t=this,e=t._self._c;return e("label",{staticClass:"hamb",attrs:{for:"side-menu"}},[e("span",{staticClass:"hamb-line"})])}],B=(a("14d9"),function(){var t=this,e=t._self._c;return e("el-dropdown",{staticClass:"nav-dropdown",on:{command:t.handleLangs}},[e("span",{staticClass:"el-dropdown-link"},[t._v(" "+t._s(t.$t("nav.lang"))),e("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},t._l(t.langs,(function(a,n){return e("el-dropdown-item",{key:"lang-"+n,attrs:{command:a.value}},[t._v(" "+t._s(a.label)+" ")])})),1)],1)}),R=[],G={name:"SwitchLocale",data(){return{langs:_}},methods:{handleLangs(t){this.$i18n.locale=t}}},U=G,Y=Object(i["a"])(U,B,R,!1,null,"3e7c5d04",null),q=Y.exports,z={components:{SwitchLanguageVue:q},name:"NavigatorSimple",data(){return{langs:_}},methods:{handleRoute(t){this.$router.currentRoute.path!=t&&(this.$store.dispatch("step/backToCheckoutIndex"),this.$router.push(t))},handleLangs(t){this.$i18n.locale=t}}},F=z,H=(a("2cb4"),Object(i["a"])(F,M,j,!1,null,null,null)),J=H.exports,V=function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-block"},[e("div",{staticClass:"content-stepper"},[e("stepper")],1),e("div",{staticClass:"content-info"},[e("router-view")],1)])},K=[],Q=function(){var t=this,e=t._self._c;return e("el-steps",{attrs:{active:t.activeIndex,"finish-status":"success","align-center":""}},t._l(t.steps,(function(a,n){return e("el-step",{key:"step-"+n,attrs:{title:t.$t(a.label),"finish-status":"success"}})})),1)},W=[],X={name:"Stepper",data(){return{steps:b}},computed:{...Object(p["c"])("step",["activeIndex","currentStep","stepTitle","backButtonLabel","nextButtonLabel"])}},Z=X,tt=Object(i["a"])(Z,Q,W,!1,null,null,null),et=tt.exports,at={props:{activeStep:{type:Number,default:0}},components:{Stepper:et},computed:{}},nt=at,st=(a("81b2"),Object(i["a"])(nt,V,K,!1,null,"5eaff604",null)),ot=st.exports,ct={components:{Navigator:J,CheckoutContent:ot},name:"Checkout",data(){return{}},methods:{}},rt=ct,it=Object(i["a"])(rt,$,D,!1,null,"16b06d68",null),lt=it.exports,ut=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"navigator-block"},[e("navigator")],1),e("div",{staticClass:"content"},[e("checkout-card",{attrs:{stepTitle:t.$t("hint.not_found"),subtitle:t.$t("hint.redirect_checkout")}})],1),e("div",{staticClass:"footer"})])},pt=[],dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"checkout-card-block"},[e("div",{staticClass:"content-title"},[t._v(t._s(t.$te(t.stepTitle)?t.$t(t.stepTitle):t.stepTitle))]),e("div",{staticClass:"content-padding"},[t._t("content-top-icon")],2),e("div",{staticClass:"content-subtitle"},[t._v(t._s(t.subtitle))]),e("div",{staticClass:"content-body content-padding"},[t._t("content-body")],2),e("div",{staticClass:"content-footer content-padding"},[""!=t.backButtonLabel?e("el-button",{staticClass:"blue-button blue-button-left",attrs:{type:"primary"},on:{click:function(e){return t.$emit("back")}}},[e("i",{staticClass:"el-icon-arrow-left"}),t._v(" "+t._s(t.backButtonLabel)+" ")]):t._e(),""!=t.nextButtonLabel?e("el-button",{staticClass:"blue-button blue-button-right",attrs:{type:"primary"},on:{click:function(e){return t.$emit("next")}}},[t._v(" "+t._s(t.nextButtonLabel)+" "),e("i",{staticClass:"el-icon-arrow-right"})]):t._e()],1)])},mt=[],ft={props:{activeIndex:{type:Number,default:0},activeStep:{type:Number,default:0},currentStep:{type:Object,default:()=>{}},stepTitle:{type:String,default:""},subtitle:{type:String,default:""},backButtonLabel:{type:String,default:""},nextButtonLabel:{type:String,default:""}}},bt=ft,ht=(a("c8ef"),Object(i["a"])(bt,dt,mt,!1,null,null,null)),gt=ht.exports,vt={components:{Navigator:J,CheckoutCard:gt},mounted(){setTimeout(()=>{this.$router.push({name:m.MY_DATA})},f)}},_t=vt,yt=Object(i["a"])(_t,ut,pt,!1,null,null,null),kt=yt.exports,Ct=function(){var t=this,e=t._self._c;return e("checkout-card",{attrs:{"active-step":t.activeIndex,"current-step":t.currentStep,"step-title":t.$t("checkout_content.title"),subtitle:t.$t("checkout_content.message"),"back-button-label":t.backButtonLabel,"next-button-label":t.nextButtonLabel},on:{next:t.next}},[e("template",{slot:"content-body"},[e("div",{staticClass:"form-block"},[e("el-form",{ref:"myData",attrs:{model:t.myData,rules:t.rules,"label-width":"120px","label-position":"top"}},[e("el-form-item",{attrs:{label:t.$t("form.name"),prop:"name"}},[e("el-input",{model:{value:t.myData.name,callback:function(e){t.$set(t.myData,"name",e)},expression:"myData.name"}})],1),e("el-form-item",{attrs:{label:t.$t("form.last_name"),prop:"lastName"}},[e("el-input",{model:{value:t.myData.lastName,callback:function(e){t.$set(t.myData,"lastName",e)},expression:"myData.lastName"}})],1)],1)],1)])],2)},St=[],xt={components:{CheckoutCard:gt},data(){return{myData:{name:"",lastName:""},rules:{name:[{required:!0,message:"Please input Name",trigger:"blur"}],lastName:[{required:!0,message:"Please input Last Name",trigger:"blur"}]}}},computed:{...Object(p["c"])("step",["activeIndex","currentStep","backButtonLabel","nextButtonLabel"])},mounted(){if(""!=localStorage.getItem("token")){const t=JSON.parse(localStorage.getItem("token"));this.myData.name=t.name,this.myData.lastName=t.lastName}},methods:{...Object(p["b"])({nextStep:"step/nextStep",toLocaleResponse:"langs/toLocaleResponse",udpateLocaleMessage:"langs/udpateLocaleMessage"}),next(){try{this.$refs["myData"].validate(t=>{if(!t)return alert("Invalid Form!!"),!1;localStorage.setItem("token",JSON.stringify(this.myData)),this.nextStep(),this.$router.push("/checkout/step-2-payment")})}catch(t){}}}},Lt=xt,Pt=(a("9ab3"),Object(i["a"])(Lt,Ct,St,!1,null,"14efa03a",null)),Nt=Pt.exports,Ot=function(){var t=this,e=t._self._c;return e("checkout-card",{attrs:{"active-step":t.activeIndex,"current-step":t.currentStep,"step-title":t.$t("checkout_content.title"),subtitle:t.$t("checkout_content.message"),"back-button-label":t.backButtonLabel,"next-button-label":t.nextButtonLabel},on:{next:t.pay,back:t.back}},[e("template",{slot:"content-body"},[e("div",{staticClass:"payment-block"},[e("div",{staticClass:"content-img"},[e("img",{attrs:{src:a("afa3")}})]),e("div",{staticClass:"content-title"},[t._v(t._s(t.$t("payment.credit_card")))]),e("div",{staticClass:"content-subtitle"},[t._v(" You will be redirected to a secure payment platform. This is a secure process. The validation of your payment can take up to 24 hours. ")]),e("div",{staticClass:"content-img credit-logos"},[e("img",{attrs:{src:a("7140")}})])])])],2)},Tt=[],wt={payment(){return new Promise((t,e)=>{v.a.get("/v3/5fd5b0a0-7cec-4ccf-bdec-b9c99c78e29f").then(e=>{t(e)}).catch(t=>{e(t)})})}},It={components:{CheckoutCard:gt},data(){return{myData:{name:"",lastName:""},rules:{name:[{required:!0,message:"Please input Name",trigger:"blur"}],lastName:[{required:!0,message:"Please input Last Name",trigger:"blur"}]}}},computed:{...Object(p["c"])("step",["activeIndex","currentStep","stepTitle","backButtonLabel","nextButtonLabel"])},mounted(){},methods:{...Object(p["b"])({nextStep:"step/nextStep",previousStep:"step/previousStep",udpateLocaleMessage:"langs/udpateLocaleMessage"}),async pay(){const t=this.$loading({lock:!0});try{const{data:e}=await wt.payment();this.udpateLocaleMessage(e),this.nextStep(),this.$router.push("/checkout/step-3-order-confirmation")}catch(e){}finally{t.close()}},back(){this.previousStep(),this.$router.go(-1)}}},At=It,Et=(a("05f9"),Object(i["a"])(At,Ot,Tt,!1,null,"fa445c6c",null)),$t=Et.exports,Dt=function(){var t=this,e=t._self._c;return e("checkout-card",{attrs:{"active-step":3,"step-title":t.$t("checkout_content.title"),subtitle:t.$t("checkout_content.message")}},[e("template",{slot:"content-top-icon"},[e("div",{staticClass:"content-img"},[e("img",{attrs:{src:a("f6bb")}})])])],2)},Mt=[],jt={components:{CheckoutCard:gt},data(){return{myData:{name:"",lastName:""},rules:{name:[{required:!0,message:"Please input Name",trigger:"blur"}],lastName:[{required:!0,message:"Please input Last Name",trigger:"blur"}]}}},methods:{...Object(p["b"])("step",["previousStep","nextStep"])}},Bt=jt,Rt=(a("6f20"),Object(i["a"])(Bt,Dt,Mt,!1,null,"f6066828",null)),Gt=Rt.exports;const Ut=[{path:"/checkout",component:lt,children:[{name:m.MY_DATA,path:"/checkout/step-1-my-data",component:Nt},{name:m.PAYMENT,path:"/checkout/step-2-payment",component:$t},{name:m.ORDER_CONFIRM,path:"/checkout/step-3-order-confirmation",component:Gt}]},{path:"/:pathMatch(.*)*",name:"NotFound",component:kt}],Yt=new I["a"]({mode:"history",routes:Ut});Yt.beforeEach((t,e,a)=>{const n=Yt.app.$store.getters["step/activeIndex"],s=Ut[0].children.findIndex(e=>e.name==t.name);n!=s&&localStorage.setItem("token","");let o=localStorage.getItem("token");const c=null!=o&&""!=o;Yt.app.$store.dispatch("loadConfigI18n").then((function(){t.name===m.MY_DATA||c?a():a({name:m.MY_DATA})})).catch(()=>console.log("getI18nData-error"))});var qt=Yt;n["default"].config.productionTip=!1;const zt={en:L,zh_CN:P},Ft=new x["a"]({locale:"en",fallbackLocale:"en",messages:zt});new n["default"]({store:S,router:qt,render:t=>t(u),i18n:Ft}).$mount("#app")},"6f20":function(t,e,a){"use strict";a("78c1")},7140:function(t,e,a){t.exports=a.p+"img/credit-card-logos.5d225941.png"},"78c1":function(t,e,a){},"81b2":function(t,e,a){"use strict";a("f887")},"93d4":function(t,e,a){t.exports=a.p+"img/nav-user.33fe8642.svg"},"9ab3":function(t,e,a){"use strict";a("00c8")},afa3:function(t,e,a){t.exports=a.p+"img/payment-credit-card.35ffa1c3.svg"},b77a:function(t,e,a){},c8ef:function(t,e,a){"use strict";a("4d20")},dddb:function(t,e,a){t.exports=a.p+"img/nav-help.843bbcd7.svg"},f6bb:function(t,e,a){t.exports=a.p+"img/payment-certificate.95ed46ac.svg"},f6cb:function(t,e,a){},f887:function(t,e,a){}});
//# sourceMappingURL=app.aba16add.js.map